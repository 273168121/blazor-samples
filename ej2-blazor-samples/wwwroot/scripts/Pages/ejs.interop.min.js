function getElementByXpath(e){return document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}!function(e){window.ejsBase=e}({getAttribute:function(e,t){return getElementByXpath(e).getAttribute(t)},setAttribute:function(e,t,a){getElementByXpath(e).setAttribute(t,a)},addClass:function(e,t){ejs.base.addClass([getElementByXpath(e)],t)},removeClass:function(e,t){ejs.base.removeClass([getElementByXpath(e)],t)},getClassList:function(e){return Array.prototype.slice.call(getElementByXpath(e).classList)},enableRipple:function(e){ejs.base.enableRipple(e)},enableRtl:function(e){ejs.base.enableRtl(e)},loadCldr:function(...e){for(var t=0;t<e.length;t++)ejs.base.loadCldr(JSON.parse(e[t]))},setCulture:function(e){ejs.base.setCulture(e)},setCurrencyCode:function(e){ejs.base.setCurrencyCode(e)},load:function(e){ejs.base.L10n.load(JSON.parse(e))}}),window.ejsIntrop={createXPathFromElement:function(e){for(var t=document.getElementsByTagName("*"),a=[];e&&1===e.nodeType;e=e.parentNode)if(e.hasAttribute("id")){for(var n=0,r=0;r<t.length&&(t[r].hasAttribute("id")&&t[r].id===e.id&&n++,!(n>1));r++);if(1===n)return a.unshift('id("'+e.getAttribute("id")+'")'),a.join("/");a.unshift(e.localName.toLowerCase()+'[@id="'+e.getAttribute("id")+'"]')}else if(e.hasAttribute("class"))a.unshift(e.localName.toLowerCase()+'[@class="'+e.getAttribute("class")+'"]');else{for(i=1,sib=e.previousSibling;sib;sib=sib.previousSibling)sib.localName===e.localName&&i++;a.unshift(e.localName.toLowerCase()+"["+i+"]")}return a.length?"/"+a.join("/"):null},dotnetInstance:null,invokeEJS:function(e,t,a,n,r,s){try{ejsIntrop.dotnetInstance=r,window.BlazorAdaptor||window.ejsIntrop.initBlazorAdaptor(),t=JSON.parse(t,ejsIntrop.parseRevive);var o=ejs.base.getValue(n,window);window.ejsIntrop.bindEvents(t,a,r);var i=new o(t);i._dotnetInstance=r;var d=i.saveChanges;i._saveChanges=d.bind(i),i.bindableProps=s=JSON.parse(s),i.isRendered=!1,i.saveChanges=window.ejsIntrop.updateModel.bind(i),i.appendTo("#"+e),i.isRendered=!0}catch(e){window.ejsIntrop.throwError(e,i)}},convertPropToJSON:function(e,t){var a={};for(var n in t){for(var r=n.trim().split("."),s=a,o=0;o<r.length-1;o++){var i=r[o].match(/^(\w+)\[(\d+)\]$/);if(i){var d=s[i[1]];d||(d=s[i[1]]=[]),s=d[i[2]]=d[i[2]]||{}}else s=s[r[o]]=s[r[o]]||{}}s[r[o]]=t[n]}for(var l in e.bindablePropKeys=[],a){if("dataSource"===l&&"BlazorAdaptor"===e[l].adaptorName)e[l]=e[l];else if(null!==a[l]&&"object"==typeof a[l]&&a[l].length>0)for(var p=0;p<a[l].length;p++)Array.isArray(a[l])&&"string"==typeof a[l][p]?e[l][p]=a[l][p]:void 0!==a[l][p]&&ej.base.extend(e[l][p],e[l][p],a[l][p],!0);else e[l]=a[l];e.bindablePropKeys.push(l)}return e},getModelProps:function(e){for(var t={},a=0;a<e.bindablePropKeys.length;a++){var n=e.bindablePropKeys[a],r=e[n];t[n]=ejsIntrop.parseRevive(n,r)}return t},setModel:function(e,t,a,n,r,s){try{ejsIntrop.dotnetInstance=r,this.bindableProps=s=JSON.parse(s),window.ejsIntrop.bindEvents(t,a,r);var o=document.getElementById(e).ej2_instances[0];window.ejsIntrop.convertPropToJSON(o,s),o.preventUpdate=!0,t=window.ejsIntrop.getModelProps(o),o.setProperties(t),o.dataBind(),o.preventUpdate=!1,ejsIntrop.dotnetInstance=null}catch(e){window.ejsIntrop.throwError(e,o)}},updateModel:async function(e,t,a){try{this._saveChanges(e,t,a);var n=Object.keys(this.bindableProps);if("dataSource"===e&&console.log(),this.isRendered&&!this.preventUpdate&&ejsIntrop.compareValues(t,a)&&n&&-1!==n.indexOf(e)){var r={};"object"!=typeof t||null===t||t instanceof Date||(t=JSON.stringify(t)),r[e]=t,await this._dotnetInstance.invokeMethodAsync("UpdateModel",ejsIntrop.cleanStringify(r))}this.preventUpdate=!1}catch(e){window.ejsIntrop.throwError(e,this)}},call:function(e,t,a,n,r){try{var s=document.getElementById(e).ej2_instances[0];s[t].apply(s,a)}catch(e){window.ejsIntrop.throwError(e,s)}},parseRevive:function(key,value){var dateRegex=new RegExp(/(\d{4})-(\d{2})-(\d{2})T(\d{2})\:(\d{2})\:(\d{2}).*/),arrayRegex=new RegExp(/^\[.*?\]$/),objectRegex=new RegExp(/^\{.*?\}$/);if("string"==typeof value&&"query"===key)return eval(value);if("dataSource"===key){if(null===value)return;if(value="string"==typeof value?JSON.parse(value):value,!value.adaptor)return value;value.adaptor=ejsIntrop.getAdaptor(value.adaptor);var dataManager=new ej.data.DataManager(value);return ejsIntrop.dotnetInstance&&(dataManager.dotnetInstance=ejsIntrop.dotnetInstance,dataManager.adaptor instanceof BlazorAdaptor&&(dataManager.adaptorName="BlazorAdaptor",dataManager.dataSource.offline=!1),ejsIntrop.dotnetInstance=null),dataManager}if("string"==typeof value&&dateRegex.test(value)){if(arrayRegex.test(value)){var values=JSON.parse(value),val=[];for(i=0;i<values.length;i++)val.push(new Date(values[i]));return val}return new Date(value)}return"string"==typeof value&&(arrayRegex.test(value)||objectRegex.test(value))?JSON.parse(value):"string"==typeof value?ejsIntrop.escapeChar(value):value},escapeChar:function(e){return e.replace(/\n/g,"\\n").replace(/\r/g,"\\r")},triggerEJEvents:function(e){var t;try{t=e?ejsIntrop.cleanStringify(this.dotnet.invokeMethodAsync("Trigger",this.eventName,window.ejsIntrop.cleanStringify(e))):ejsIntrop.cleanStringify(this.dotnet.invokeMethodAsync("Trigger",this.eventName,""))}catch(e){window.ejsIntrop.throwError(e,this)}return t},cleanStringify:function(e){return e&&"object"==typeof e&&(e=function e(t,a){var n=a&&Array.isArray(a);var r=n?[]:{};var s=n?a:Object.keys(a);s.forEach(function(s){var o=a[s];if(n&&"string"==typeof s)r.push(s);else if(o instanceof Node){var i=Object.assign({},o);delete i.ej2_instances,r[s]={id:o.id,class:o.className,ele:i,xpath:window.ejsIntrop.createXPathFromElement(o)}}else if(o&&Array.isArray(o))for(var d=0;d<o.length;d++)if(r[s]||(r[s]=[]),!o[d]||"object"!=typeof o[d]||o[d]instanceof Date)r[s].push(o[d]);else{var l=Object.keys(o[d]);l.indexOf("parentObj")>-1&&(o[d]=o[d].properties),r[s].push(e(t,o[d]))}else if(o&&"object"==typeof o){Object.keys(o).indexOf("parentObj")>-1&&(o=o.properties),t.indexOf(o)<0?(t.push(o),o&&o instanceof Date?r[s]=o:r[s]=e(t,o),t.pop()):r[s]="###_Circular_###"}else"function"!=typeof o&&(r[s]=o)});return r}([e],e)),JSON.stringify(e)},bindEvents:function(e,t,a){if(t)for(var n=0;n<t.length;n+=1){var r=t[n],s={dotnet:a,eventName:r};if(r.indexOf(".")>0){for(var o=r.split("."),i=e,d=0;d<o.length-1;d++){var l=new RegExp(/\[.*?\]/);if(l.test(o[d])){var p=o[d].match(l)[0],u=o[d].replace(p,"");d+=1,i=i[u][p[1]]}else i=i[o[d]]}i[o[o.length-1]]=window.ejsIntrop.triggerEJEvents.bind(s)}else e[r]=window.ejsIntrop.triggerEJEvents.bind(s)}},throwError:function(e,t){console.error(e.message+"\n"+e.stack)},compareValues:function(e,t){return e instanceof Date&&t instanceof Date?+e!=+t:"object"==typeof e||"object"==typeof t?(e="string"==typeof e?e:ejsIntrop.cleanStringify(e))!==(t="string"==typeof t?t:ejsIntrop.cleanStringify(t)):e!==t},getAdaptor:function(e){var t;switch(e){case"ODataAdaptor":t=new ejs.data.ODataAdaptor;break;case"ODataV4Adaptor":t=new ejs.data.ODataV4Adaptor;break;case"UrlAdaptor":t=new ejs.data.UrlAdaptor;break;case"WebApiAdaptor":t=new ejs.data.WebApiAdaptor;break;case"JsonAdaptor":t=new ejs.data.JsonAdaptor;break;case"RemoteSaveAdaptor":t=new ejs.data.RemoteSaveAdaptor;break;default:t=new window.BlazorAdaptor}return t},initBlazorAdaptor:function(){window.BlazorAdaptor=class extends ejs.data.UrlAdaptor{processQuery(e,t,a){var n=ej.data.UrlAdaptor.prototype.processQuery.apply(this,arguments);return n.dotnetInstance=e.dotnetInstance,n}makeRequest(e,t,a,n){var r=JSON.parse(e.data),s=this;e.dotnetInstance.invokeMethodAsync("DataProcess",JSON.stringify(r)).then(a=>{a=ej.data.DataUtil.parse.parseJson(a),function(e,a,n){var r={};r.count=e.count?parseInt(e.count.toString(),10):0,r.result=e.result?e.result:e,r.aggregates=a,r.virtualSelectRecords=n,t.resolve(r)}(s.processResponse(a,{},n,null,e))})}insert(e,t,a,n){var r={};return r.dm=e,r.data=t,r.tableName=a,r.query=n,r.requestType="insert",r}remove(e,t,a,n,r){var s={};return s.dm=e,s.data=a,s.keyField=t,s.tableName=n,s.query=r,s.requestType="remove",s}update(e,t,a,n,r){var s={};return s.dm=e,s.data=a,s.keyField=t,s.tableName=n,s.query=r,s.requestType="update",s}batchRequest(e,t,a,n,r){var s={};return s.dm=e,s.changed=t.changedRecords,s.added=t.addedRecords,s.deleted=t.deletedRecords,s.requestType="batchsave",s.keyField=a.key,s}doAjaxRequest(e){var t=new ej.data.Deferred,a=e.dm;return"insert"===e.requestType&&a.dotnetInstance.invokeMethodAsync("Insert",JSON.stringify(e.data)).then(e=>{t.resolve(e)}),"remove"===e.requestType&&a.dotnetInstance.invokeMethodAsync("Remove",JSON.stringify(e.data),e.keyField).then(e=>{t.resolve()}),"update"===e.requestType&&a.dotnetInstance.invokeMethodAsync("Update",JSON.stringify(e.data),e.keyField).then(e=>{var a=ej.data.DataUtil.parse.parseJson(e);t.resolve(a)}),"batchsave"===e.requestType&&a.dotnetInstance.invokeMethodAsync("BatchUpdate",JSON.stringify(e.changed),JSON.stringify(e.added),JSON.stringify(e.deleted),e.keyField).then(e=>{t.resolve(e)}),t.promise}}}};