@page "/QueryBuilder/DefaultFunctionalities"

@using Syncfusion.EJ2.RazorComponents.QueryBuilder

@*Hidden:Lines*@
@using ej2_blazor_samples
@using ej2_blazor_griddata
@{
    SampleBrowser.CurrentSampleName = SampleBrowser.Config.QueryBuilder[0].Name;
    SampleBrowser.CurrentControlName = "QueryBuilder";
    SampleBrowser.CurrentControlCategory = "Forms";
    SampleBrowser.CurrentControl = SampleBrowser.Config.QueryBuilder;
    SampleBrowser.ActionDescription = new string[] {
        @"This sample demonstrates the default functionalities of the Query Builder component. Click the plus button to add a group or conditions."
    };
    SampleBrowser.Description = new string[] {
        @"The Query Builder component is used to create or edit filters. You can edit filters by changing the fields.",
        @"In mobile mode, the component is shown vertically.",
        @"More information about Query Builder can be found in this
            <a target=""_blank"" href=""http://ej2.syncfusion.com/aspnetcore/documentation/query-builder/getting-started"">
                documentation section
            </a>."
    };
}
@*End:Hidden*@

<div class="col-lg-12 control-section">
    <EjsQueryBuilder ID="querybuilder" Width="70%" Rule="@rule" DataSource="@dataSource">
        <QueryBuilderColumns>
            <QueryBuilderColumn Field="CustomerId" Label="CustomerId" Type="number"></QueryBuilderColumn>
            <QueryBuilderColumn Field="EmployeeId" Label="EmployeeId" Type="string"></QueryBuilderColumn>
            <QueryBuilderColumn Field="Verified" Label="Verified" Type="boolean" Values=@values></QueryBuilderColumn>
            <QueryBuilderColumn Field="ShipName" Label="ShipName" Type="string"></QueryBuilderColumn>
            <QueryBuilderColumn Field="OrderDate" Label="OrderDate" Type="date" Format="dd/MM/yyyy"></QueryBuilderColumn>
            <QueryBuilderColumn Field="ShipCountry" Label="ShipCountry" Type="string"></QueryBuilderColumn>
            <QueryBuilderColumn Field="ShipAddress" Label="ShipAddress" Type="string"></QueryBuilderColumn>
        </QueryBuilderColumns>
    </EjsQueryBuilder>
</div>
<style>

    .e-query-builder {
        margin: 0 auto;
    }
</style>

@code{


    QueryBuilderRule rule = new QueryBuilderRule()
    {
        Condition = "and",
        Rules = new List<QueryBuilderRule>
    ()
    {
    new QueryBuilderRule { Label="CustomerId", Field="CustomerId", Type="number", Operator="equal", Value = 1001 },
    new QueryBuilderRule { Label="EmployeeId", Field="EmployeeId", Type="string", Operator="equal", Value = "FLKIN" }
    }
    };

    public List<string>
        values = new List<string>
            { "Mr.", "Mrs." };

            public List<Orders>
                dataSource { get; set; }

                protected override void OnInit()
                {
                dataSource = Orders.GetAllRecords();
                }
                }
